{% include 'base.html' %}
{% block content %}
    <div class="container">
        <h1>
            Source for - <strong>{{ url }}</strong>
            <a href="javascript:history.back(-1)" class="btn btn-default btn-sm">Go back</a>
        </h1>

        <div class="source_content col-md-6">
        <pre>
        {% autoescape off %}{{ source }}{% endautoescape %}
        </pre>
        </div>

        <div class="col-md-6">

            <table class="col-md-6 table-bordered table-striped table-condensed ">
                <thead>
                <tr>
                    <th>Tags</th>
                    <th>Count (only start tags)</th>
                </tr>
                </thead>

                {% for key, value in tags.items %}
                    <tr>
                        <td class="tag">{{ key }}</td>
                        <td>{{ value }}</td>
                    </tr>
                {% endfor %}
            </table>

        </div>
    </div>
    <footer>
        <div class="container">
        </div>
    </footer>

{% endblock %}

{% block js %}
    <script type="text/javascript">
        //All methods are defined in app.js
        $(document).ready(function () {
            //Add click handler to each tag
            $('.tag').click(function () {
                var tag = $(this).html();
                $('.' + tag).each(function () {
                    $(this).highlight();
                });
            })
        });

    </script>
{% endblock %}